<div class="playlist_tracks container-fluid d-flex justify-content-center flex-wrap w-100">
    <div class="row justify-content-end">
      <div class="col-12">
        <header class="jumbotron jumbotron-fluid mb-5 rounded p-4">
            <br>
            <br>
            <br>
            <div class="playlist-tracks-text">
              <h1 class="display-4">Playlist Tracks</h1>
              <p class="display">Listen to your music unmixed, as often as you can. Having your DJ collection on hand ensures you can be listening to your music anywhere and everywhere. Preparing music files can be boring, but itâ€™s essential if you want to appear to always know what song to play next, effortlessly. Not only should you prepare each individual music file, but also work on playlists, BiteJockey makes this part stress free.</p>
            <div>
        </header>
      <div class="sidebar">
        <%= render "layouts/sidebar"%>
      </div>
    </div>
</div>

<div class="tracks_container container-fluid">
  <div class="row justify-content-end">
    <div class="col-10 justify-content-center border border-warning">
      <div class="playlist-heading">
        <div class="d-flex align-items-center mb-3">
          <%= image_tag @playlist.images.first["url"], size: 250 %>
          <h2 class="ms-3"><%= @playlist.name %></h2>
        </div>
      </div>

      <div class="container filter-menu" data-controller="isotope">
        <div class="button-group border border-success sort-by-button-group m-3">
          <button data-sort-by="original-order" type="button" class="btn btn-outline-light">Original Order</button>
          <button data-sort-by="bpm" type="button" class="btn btn-outline-light">BPM</button>
          <button data-sort-by="key" type="button" class="btn btn-outline-light">Song Key</button>
          <button data-sort-by="danceability" type="button" class="btn btn-outline-light">Danceability</button>
          <button data-sort-by="energy" type="button" class="btn btn-outline-light">Energy</button>
        </div>
        <div class="button-group playlist-button-group btn btn-outline-light" type="button">
          <button>Update Playlist</button>
        </div>
        <div class="grid">
          <% counter = 1 %>
          <% @tracks.each do |track| %>
            <div class="grid-item-playlist bg-dark shadow mb-2 p-3" style="width: 24rem; height: 6rem;">
              <div class="track-features d-flex justify-content-between align-items-center">
                <div class="track-title-artist">
                  <h4 class="mb-2"><%= counter %>. <%= track[:name]  %></h4>
                  <p><%= track[:artist] %></p>
                </div>
                <div class="track-audio-features d-flex justify-content-between">
                  <div class="mx-3 d-flex align-items-center flex-column">
                    <span class="d-flex"><p>Key: </p><p class="key-text ms-2"><%= track[:key_text] %></p></span>
                    <p class="key ms-2" style="color: transparent;"><%= track[:key] %></p></span>
                  </div>
                  <div class="mx-3">
                    <span class="d-flex"><p>BPM: </p><p class="bpm ms-2"><%= track[:bpm] %></p></span>
                    <span class="d-flex"><p>Danceability: </p><p class="danceability ms-2"><%= track[:danceability] %></p></span>
                    <span class="d-flex"><p>Energy: </p><p class="energy ms-2"><%= track[:energy] %></p></span>
                  </div>
                </div>
              </div>
            </div>
            <% counter += 1 %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<script id="my_vars_json" type="text/json">
    <%= raw @my_vars.to_json %>
</script>
